<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Equity Curve Simulator</title>
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
</head>
<body>
    <h2>Equity Curve Simulator</h2>
    <label>Winrate (%): <input type="number" id="winrate" value="50"></label>
    <label>Risk-Reward Ratio: <input type="number" step="0.1" id="riskReward" value="2"></label>
    <label>Aantal Simulaties: <input type="number" id="simulations" value="5"></label>
    <label>Aantal Trades: <input type="number" id="trades" value="100"></label>
    <button onclick="simulateEquityCurve()">Simuleer</button>
    
    <canvas id="equityChart"></canvas>
    
    <script>
        let equityChart;

        function simulateEquityCurve() {
            const winrate = parseFloat(document.getElementById('winrate').value) / 100;
            const riskReward = parseFloat(document.getElementById('riskReward').value);
            const simulations = parseInt(document.getElementById('simulations').value);
            const trades = parseInt(document.getElementById('trades').value);
            
            const ctx = document.getElementById('equityChart').getContext('2d');
            if (equityChart) equityChart.destroy();
            
            const datasets = [];
            for (let i = 0; i < simulations; i++) {
                let balance = 100;
                const equity = [balance];
                for (let j = 0; j < trades; j++) {
                    const win = Math.random() < winrate;
                    balance += win ? balance * 0.01 * riskReward : -balance * 0.01;
                    equity.push(balance);
                }
                datasets.push({
                    label: `Sim ${i + 1}`,
                    data: equity,
                    borderColor: `hsl(${Math.random() * 360}, 100%, 50%)`,
                    fill: false,
                    tension: 0.1
                });
            }
            
            equityChart = new Chart(ctx, {
                type: 'line',
                data: {
                    labels: Array.from({ length: trades + 1 }, (_, i) => i),
                    datasets: datasets
                },
                options: {
                    responsive: true,
                    scales: { 
                        x: { title: { display: true, text: 'Trades' } },
                        y: { title: { display: true, text: 'Equity' } }
                    }
                }
            });
        }
    </script>
</body>
</html>
